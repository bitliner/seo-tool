"use strict";angular.module("seoToolApp",[]),angular.module("seoToolApp").controller("MainCtrl",["$scope","$sce",function(a){function b(){var b=a.tmpCounter;return a.tmpCounter++,b}function c(){var a=f;h.forEach(function(b){var c=a("meta[name="+b+"]");c.length||a("head").append('<meta name="'+b+'" content="" />')})}function d(c){var d,h=[],i=f;d=g[c];var j=i(c);console.log("elements",j),j.each(function(){var a=b(),c=e(this);console.log("___!",c,c.attr("href")),c.attr("seo-tool-id",a);var f={id:a};d.forEach(function(a){f[a]=c.attr(a)}),h.push(f)}),console.log(c+"Tags",h.length,h),a[c+"Tags"]=h}a.inputHtml="",a.aTags=[],a.imgTags=[],a.metaTags=[],a.tmpCounter=0,a.output="";var e=window.cheerio,f="",g={img:["src","alt"],a:["href","title"],meta:["content","name"]},h=["keywords","description"];a.processHtml=function(b){$("#workspace");f=e.load(b),c(),Object.keys(g).forEach(function(b){a[b+"Tags"]=[],d(b)})},a.getOutput=function(){var b=e.load(f.html());Object.keys(g).forEach(function(c){console.log(c);var d=g[c];a[c+"Tags"].forEach(function(a){d.forEach(function(d){console.log("each attribute",b(c+'[seo-tool-id="'+a.id+'"]')),console.log("pait",d,a[d]),b(c+'[seo-tool-id="'+a.id+'"]').attr(d,a[d])}),b(c+'[seo-tool-id="'+a.id+'"]').removeAttr("seo-tool-id")})}),console.log("output",b.html()),a.output=b.html()}}]),angular.module("seoToolApp").directive("htmlText",function(){return{require:"ngModel",restrict:"A",link:function(){model.$formatters.push(function(a){return a}),model.$parsers.push(function(a){model.$modelValue=a})}}});